Requires database operations are implemented in the `database` module.  Note that most table are immutable. This means that changing the current value is actually a `INSERT` operation in the database.  

# Time control
~~~
set_clock(datetime=None)
~~~

Sets the time at which the database values are to be completed.  Note that only `get` operations are affected by the clock. Setting the clock to `None` returns to real-time operations.

# Config

The `config` table stores data related to the general system configuration.

| Field name | Data type | Default value | Remarks
| ---------- | --------- | ------------- | ------------
| config_id  | integer   | auto          | primary key
| system_id  | integer   | required      | constrained key
| name       | text      | required      |
| value      | text      | NULL          |
| created    | datetime  | current time  |

## `create_config`
~~~
create_config(name,initial_value)
~~~

The `create_config` operation creates a new configuration variable.

The initial variables defined for TESS operations are the following:

| Name          | Initial value              |
| ------------- | -------------------------- |
| api-version   | 1                          |
| mechanism     | AUCTION                    |
| interval      | 300                        |
| time-unit     | h                          |
| currency-unit | $                          |
| admin-email   | dchassin@slac.stanford.edu |

## `get_config`
~~~
get_config(name)
~~~

The `get_config` operation gets the current value of a configuration variable.  If the `set_clock` operation has been used, the value obtained will be for the datetime specified.

## `change_config`
~~~
change_config(name,new_value)
~~~

The `change_config` operation sets the current value of a configuration variable.

# Device

The `device` table stores data related to devices that participate in the TESS market operations. 

# Log

The `log` table stores data related to system log entries made during TESS market operations. Log entries are required for all events that are not otherwise recorded in other tables.  The following events must be logged:

- Database creation
- Database backup
- Database restore
- Database operations that do not strictly conform to the database immutability requirement (e.g., `INSERT`, `UPDATE`, `DELETE`, `ALTER`).

# Meter

The `meter` table stores data related to meters that record device behavior for the purpose of generating transactions.

# Order

The `order` table stores data related to buy and sell orders placed by devices.
# Preference

The `preference` table stores data related to user preferences for mobile and web applications they user.


# Price

The `price` table stores data related to prices generated by market operations.


# Resource

The `resource` table stores data related to resources that are available through the TESS market operations.


# Setting

The `setting` table stores data related to settings for devices that users own.


# System

The `system` table stores data related to systems that participate in the TESS market operations.


# Token

The `token` table stores data related to access tokens generated by users and devices.


# Transaction

The `transaction` table stores data related to transactions arising from device metering.


# User

The `user` table stores data related to user that participate in the TESS market operations.

